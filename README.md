# Xmas_random  

---  

#### 项目介绍

该小程序的诞生起源于高中宿舍圣诞节互换礼物的抽签环节，如今我们六人已分隔四方，但我们很希望这个有趣的活动能够保留下来，故做了这个小程序，粗糙地满足随机匹配的需求。  

#### 包含文件

- `code.py` 包含加密和解密方法的模块
- `Xmas_random.py` 随机匹配并对结果加密
- `run_local.py` / `run_online.py` 前者用于本地解密，后者用于在线解密

#### 实现原理

1. **加密和解密**：详情请参见我的 `encode_decode` 库
2. **随机匹配**：
   - `give_dict` 键值对记录**送出的名字**， `recv_dict`键值对记录**收到的状态**  
   - 过程：
        - 遍历**成员**  
        - 保存当前成员**收到的状态**  
        - 设置当前成员**收到的状态**为-1  
        - 随机生成**送出的名字**并判断其**收到的状态**作出相应的操作  
        - 还原当前成员**收到的状态**
        - 对**键值对**打码  

#### 注意事项  

- 在 `run_local.py` 中注意将 `cipher` 替换成自己对应的密文  

#### 如何运行  

1. 复制本目录下的所有文件至本地  
2. 打开相关解释器运行 `Xmas_random.py`，加密后的内容将写入 `Xmas_random.txt`  
3. 复制每个人对应的密文，选择一种解密方式进行解密即可：  
    - **本地解密**：打开相关解释器运行 `run_local.py`，按照提示输入密文即可  
    - **在线解密**：登录 `https://c.runoob.com/compile/9` ，复制 `run_online.py` 并替换密文即可  

#### Bug

- 该小程序的私密性和专用性比较高，可扩展成更广泛适用的抽签器  
- 封装和代码结构还有待改进  
- 可能会出现**两人互送**（*暂时还未改进算法*）和**最后一个人只能送给自己**（*只用断言判断报错，暂时无法自动解决*）的情况